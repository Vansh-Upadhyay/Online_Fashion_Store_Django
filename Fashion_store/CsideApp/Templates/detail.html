{% include 'base.html' %}
<html><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Jewelry Shop| Django Ecommerce</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
 
</head>
<body>
      <section class="py-5">
        <div class="container">
          <div class="row mb-5">
            <div class="col-lg-6">
              <!-- PRODUCT SLIDER-->
              <div class="row m-sm-0">
                
                <div class="col-sm-12 order-1 order-sm-2">
                  <div class="owl-carousel product-slider" data-slider-id="1">
                   
                      <a class="d-block" href="{{product.item_image.url}}" data-lightbox="product" title="{{product.itemName}}"><img class="img-fluid" src="{{product.item_image.url}}" alt="{{product.itemName}}"></a>
                    
                  </div>
                </div>
              </div>
            </div>
            <!-- PRODUCT DETAILS-->
            <div class="col-lg-6">
              <ul class="list-inline mb-2">
                <li class="list-inline-item m-0"><i class="fas fa-star small text-warning"></i></li>
                <li class="list-inline-item m-0"><i class="fas fa-star small text-warning"></i></li>
                <li class="list-inline-item m-0"><i class="fas fa-star small text-warning"></i></li>
                <li class="list-inline-item m-0"><i class="fas fa-star small text-warning"></i></li>
                <li class="list-inline-item m-0"><i class="fas fa-star small text-warning"></i></li>
              </ul>
              <h1>{{product.itemName}}</h1>
              <p class="text-muted lead">{{product.itemprice}}</p>
              

              <div class="row align-items-stretch mb-4">
                
                <div class="col-sm-5 pr-sm-0">
                  <div class="border d-flex align-items-center justify-content-between py-1 px-3 bg-white border-white"><span class="small text-uppercase text-gray mr-4 no-select">Quantity</span>
                    <div class="quantity">
                      <button class="dec-btn p-0" onclick="updateQuantity(-1)"><i class="fas fa-caret-left"></i></button>
                      <input name="quantity" id="quantity-input" class="form-control border-0 shadow-0 p-0" type="text" value="1"readonly>
                      <button class="inc-btn p-0"onclick="updateQuantity(1)"><i class="fas fa-caret-right"></i></button>
                    </div>
                  </div>
                </div>

                <div class="col-sm-3 pl-sm-0">
                  {% comment %} <a class="btn btn-dark btn-sm btn-block h-100 d-flex align-items-center justify-content-center px-0" href="{% url 'store:add-to-cart' %}">Add to cart</a> {% endcomment %}
                  
                  <form action="{% url 'add_to_cart' %}">
                    <input type="hidden" name="prod_id" value="{{product.id}}" id="product_id">
                    <input type="hidden" name="quantity" id="quantity-hidden" value="1"> <!-- Hidden input for quantity -->
                    <button type="submit" class="btn btn-dark btn-lg btn-block h-100 d-flex align-items-center justify-content-center px-0">Add to Cart</button>
                  </form>

                </div>

              </div><br>
              <ul class="list-unstyled small d-inline-block">
                
                <li class="px-3 py-2 mb-1 bg-white text-muted"><strong class="text-uppercase text-dark">Category:</strong><a class="reset-anchor ml-2" href="">{{product.category.title}}</a></li>
                
              </ul>
            </div>
          </div>
          <!-- DETAILS TABS-->
          <ul class="nav nav-tabs border-0" id="myTab" role="tablist">
            <li class="nav-item"><a class="nav-link active" id="description-tab" data-toggle="tab" href="#description" role="tab" aria-controls="description" aria-selected="true">Description</a></li>
            <li class="nav-item"><a class="nav-link" id="reviews-tab" data-toggle="tab" href="#reviews" role="tab" aria-controls="reviews" aria-selected="false">Reviews</a></li>
          </ul>
          <div class="tab-content mb-5" id="myTabContent">
            <div class="tab-pane fade show active" id="description" role="tabpanel" aria-labelledby="description-tab">
              <div class="p-4 p-lg-5 bg-white">
                <h6 class="text-uppercase">Product description </h6>
                <p class="text-muted text-small mb-0">{{product.itemDescription}}</p>
              </div>
            </div>
            <div class="tab-pane fade" id="reviews" role="tabpanel" aria-labelledby="reviews-tab">
              <div class="p-4 p-lg-5 bg-white">
                <div class="row">
                  <div class="col-lg-8">
                    <div class="media mb-3"><img class="rounded-circle" src="" alt="" width="50">
                      <div class="media-body ml-3">
                        <h6 class="mb-0 text-uppercase">Jason Doe</h6>
                        <p class="small text-muted mb-0 text-uppercase">20 May 2020</p>
                        <ul class="list-inline mb-1 text-xs">
                          <li class="list-inline-item m-0"><i class="fas fa-star text-warning"></i></li>
                          <li class="list-inline-item m-0"><i class="fas fa-star text-warning"></i></li>
                          <li class="list-inline-item m-0"><i class="fas fa-star text-warning"></i></li>
                          <li class="list-inline-item m-0"><i class="fas fa-star text-warning"></i></li>
                          <li class="list-inline-item m-0"><i class="fas fa-star-half-alt text-warning"></i></li>
                        </ul>
                        <p class="text-small mb-0 text-muted">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                      </div>
                    </div>
                    <div class="media"><img class="rounded-circle" src="" alt="" width="50">
                      <div class="media-body ml-3">
                        <h6 class="mb-0 text-uppercase">Jason Doe</h6>
                        <p class="small text-muted mb-0 text-uppercase">20 May 2020</p>
                        <ul class="list-inline mb-1 text-xs">
                          <li class="list-inline-item m-0"><i class="fas fa-star text-warning"></i></li>
                          <li class="list-inline-item m-0"><i class="fas fa-star text-warning"></i></li>
                          <li class="list-inline-item m-0"><i class="fas fa-star text-warning"></i></li>
                          <li class="list-inline-item m-0"><i class="fas fa-star text-warning"></i></li>
                          <li class="list-inline-item m-0"><i class="fas fa-star-half-alt text-warning"></i></li>
                        </ul>
                        <p class="text-small mb-0 text-muted">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>


          <!-- RELATED PRODUCTS-->
          <h2 class="h5 text-uppercase mb-4">Related products</h2>
          <div class="row">

            
              {% for rp in related_products %}
              
                <!-- PRODUCT-->
                <div class="col-lg-3 col-sm-6">
                  <div class="product text-center skel-loader">
                    <div class="d-block mb-3 position-relative">
                      <a class="d-block" href="{% url 'detail' rp.id %}">
                       
                          <img class="img-fluid w-100" src="{{rp.item_image.url}}" alt="{{rp.itemName}}">

                      </a>

                      <div class="product-overlay">
                        <ul class="mb-0 list-inline">
                          
                          <li class="list-inline-item m-0 p-0"><a class="btn btn-sm btn-dark" href="">Add to cart</a></li>
                        </ul>
                      </div>
                    </div>
                    <h6> <a class="reset-anchor" href="">{{rp.itemName}}</a></h6>
                    <p class="small text-muted">{{rp.itemprice}}</p>
                  </div>
                </div>
                {% empty %}
                
                    <span>No Related products found</span>
               

              {% endfor %}
            

           

          </div>
        </div>
      </section>
      
      
<!-- JavaScript files-->
<script src="/static/vendor/jquery/jquery.min.js"></script>
<script src="/static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/static/vendor/lightbox2/js/lightbox.min.js"></script>
<script src="/static/vendor/nouislider/nouislider.min.js"></script>
<script src="/static/vendor/bootstrap-select/js/bootstrap-select.min.js"></script>
<script src="/static/vendor/owl.carousel2/owl.carousel.min.js"></script>
<script src="/static/vendor/owl.carousel2.thumbs/owl.carousel2.thumbs.min.js"></script>
<script src="/static/js/front.js"></script>

<script>
  var range = document.getElementById('range');
  noUiSlider.create(range, {
      range: {
          'min': 0,
          'max': 2000
      },
      step: 5,
      start: [100, 1000],
      margin: 300,
      connect: true,
      direction: 'ltr',
      orientation: 'horizontal',
      behaviour: 'tap-drag',
      tooltips: true,
      format: {
        to: function ( value ) {
          return '$' + value;
        },
        from: function ( value ) {
          return value.replace('', '');
        }
      }
  });
  
</script>


<script>
  
    function updateQuantity(change) {
      var quantityInput = document.getElementById('quantity-input');
      var quantityHidden = document.getElementById('quantity-hidden');
      var currentQuantity = parseInt(quantityInput.value);
      var newQuantity = currentQuantity + change;
  
      if (newQuantity > 0) {  // Ensure quantity doesn't go below 1
        quantityInput.value = newQuantity-1;
        quantityHidden.value = newQuantity;
      }
    }
  
  // ------------------------------------------------------- //
  //   Inject SVG Sprite - 
  //   see more here 
  //   https://css-tricks.com/ajaxing-svg-sprite/
  // ------------------------------------------------------ //
  function injectSvgSprite(path) {
  
      var ajax = new XMLHttpRequest();
      ajax.open("GET", path, true);
      ajax.send();
      ajax.onload = function(e) {
      var div = document.createElement("div");
      div.className = 'd-none';
      div.innerHTML = ajax.responseText;
      document.body.insertBefore(div, document.body.childNodes[0]);
      }
  }
  // this is set to BootstrapTemple website as you cannot 
  // inject local SVG sprite (using only 'icons/orion-svg-sprite.svg' path)
  // while using file:// protocol
  // pls don't forget to change to your domain :)
  injectSvgSprite('https://bootstraptemple.com/files/icons/orion-svg-sprite.svg'); 
  
</script>
<!-- FontAwesome CSS - loading as last, so it doesn't block rendering-->

<div id="lightboxOverlay" tabindex="-1" class="lightboxOverlay" style="display: none;"></div><div id="lightbox" tabindex="-1" class="lightbox" style="display: none;"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""><div class="lb-nav"><a class="lb-prev" aria-label="Previous image" href=""></a><a class="lb-next" aria-label="Next image" href=""></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div></body></html>